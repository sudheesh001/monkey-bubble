2001-05-16  Mark Murnane  <Mark.Murnane@ireland.sun.com>

	* Changes to eliminate any potential problems on 64-bit platforms.
	
	* gnome-config.c (gnome_config_assemble_vector): Modified type
	of len to match return type of strlen().

	* gnome-ditem.c (replace_percentsign): Modified type of start,
	string_len and ps_len as they are used in strlen() operations.
	(strip_the_amp): Ditto for exec_len.
	(stripstreq): Ditto for len2.

	* gnome-exec.c (gnome_execute_async_with_env_fds): Modiifed type
	of res to gssize to match return type of read() and write() system
	calls.

	* gnome-moz-remote.c (mozilla_remote_test_window): Cast 
	hostname to const char* to match g_strcasecmp's signature.

	* gnome-paper.c	(paper_name_compare): Modified return type
	from int to long to match return type of g_strcasecmp.
	(unit_name_compare): Ditto
	(unit_abbrev_compare): Ditto

	* gnome-program.c (gnome_program_install_property): Cast
	parameter #3 of both calls to g_param_spec_set_qdata.

	* gnome-score.c (log_score): Modified type of counter i to 
	match return from strlen().

	* gnome-selector.c (_gnome_selector_add_history): Cast 
	parameter #3 to GCompareFunc.

2001-05-15  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (gnome_vfs_pre_args_parse): Call gnome_vfs_init()
	and use this as pre-args-parse function for the gnome-vfs module.

2001-05-15  Martin Baulig  <baulig@suse.de>

	* Makefile.am (ORBIT_IDL): Use @ORBIT_IDL@ rather than
	hardcoding `orbit-idl'.

2001-04-30  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Install gnome-selectorP.h.

	* gnome-selector.h (gnome_selector_get_entry_text): Put this back.
	(gnome_selector_set_entry_text): Likewise.
	(gnome_selector_activate_entry): Likesise.
	(gnome_selector_get_uri, gnome_selector_set_uri): Likewise.

2001-05-08  Martin Baulig  <baulig@suse.de>

	* gnome-selector.h (gnome_selector_get_uri): Removed.
	(gnome_selector_set_uri): Removed.

	* gnome-selector.c (impl_GNOME_Selector_getClientID): Implemented.
	(impl_GNOME_Selector_getURI, impl_GNOME_Selector_setURI): Likewise.

2001-05-07  Martin Baulig  <baulig@suse.de>

	* gnome-selector.h (GnomeSelectorClass): Removed "do_construct".
	(gnome_selector_do_construct): Removed.
	(gnome_selector_construct): New function.
	(gnome_selector_bind_to_control): Made 2nd argument a BonoboObject.

2001-05-06  Martin Baulig  <baulig@suse.de>

	* gnome-preferences.c: Use the new bonobo-property-bag-client API.

2001-05-03  Martin Baulig  <baulig@suse.de>

	* gnome-file-selector.[ch]: Moved here from libgnomeui.
	(GnomeFileSelector): Derive this directly from GnomeSelector.

2001-05-02  Michael Meeks  <michael@ximian.com>

	* libgnome-init.c (libbonobo_class_init): kill BonoboObjectClietn.
	(gnome_program_get_config_database): split out (get_db): into here
	never cut and paste code.
	(gnome_program_get_config_database),
	(gnome_program_get_desktop_config_database): upd.
	re-order to remove redundant prototypes.

2001-05-01  Michael Meeks  <michael@ximian.com>

	* Makefile.am: fixup corba dependencies more genericaly, add
	cleanfiles.

2001-05-02  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added explicit dependency
	`libgnometypebuiltins.h libgnometypebuiltins.c: $(CORBA_SOURCE)'.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* gnome-preferences.h (GNOME_PAD, GNOME_PAD_SMALL, GNOME_PAD_BIG):
	Moved these #defines here from gnome-uidefs.h.

2001-04-30  Martin Baulig  <baulig@suse.de>

	* gnome-selector.h (gnome_selector_get_entry_text): Removed.
	(gnome_selector_set_entry_text): Removed.
	(gnome_selector_activate_entry): Removed.

2001-04-30  Martin Baulig  <baulig@suse.de>

	* gnome-selector.h (gnome_selector_bind_to_control): New function.

2001-04-30  Martin Baulig  <baulig@suse.de>

	* gnome-selector.h (GnomeSelector): Made this a BonoboObject.
	(GNOME_TYPE_SELECTOR_ASYNC_HANDLE): New #define.
	(gnome_selector_async_handle_get_type): New function.
	(GNOME_TYPE_SELECTION_MODE): New #define.
	(gnome_selection_mode_get_type): New function.

	* gnome-selector.c: Use GObject and removed all GTK+ stuff.
	(PROP_ENTRY_WIDGET, PROP_SELECTOR_WIDGET, PROP_BROWSE_DIALOG):
	Removed these properties.

	* gnome-selector.[ch], gnome-selectorP.h: Moved here from libgnomeui.

	* libgnome.h: #include <libgnome/gnome-selector.h>.

2001-04-30  Martin Baulig  <baulig@suse.de>

	* Makefile.am (libgnome_2_la_SOURCES): Added the CORBA sources.
	(libgnome_headers): Install Gnome.h.

	* libgnome.h: #include <libgnome/Gnome.h>.

2001-04-30  Martin Baulig  <baulig@suse.de>

	* gnome-marshal.list, gnome-marshal-main.c: Moved here
	from libgnomeui.

	* Makefile.am: Create gnome-marshal.[ch] from gnome-marshal.list.

	* libgnome.h: #include <libgnome/gnome-marshal.h>.

2001-04-29  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Use the new glib-mkenums instead of our own
	gnome-makeenums.pl and gnome-maketypes.awk.

	* libgnometypebuiltins.[ch]: New generated files; provide a
	type installation routine for each enum and flags type.

	* gnome-program.c, libgnomeP.h (libgnome_type_init): This
	function no longer exists.

2001-04-29  Martin Baulig  <baulig@suse.de>

	* libgnome-init.[ch]
	(GNOME_PARAM_DESKTOP_CONFIG_DATABASE): New property.
	(GNOME_PARAM_DESKTOP_CONFIG_MONIKER): Likewise.
	(gnome_program_get_desktop_config_database): New function.

	* gnome-preferences.[ch]: New files; this has the same API than
	libgnomeui/gnome-preferences.[ch], but it's using bonobo-conf
	internally.

2001-04-24  Martin Baulig  <baulig@suse.de>

	* Makefile.am (libgnome_headers): Added gnome-i18n.h.

2001-04-23  Martin Baulig  <baulig@suse.de>

	* gnome-program.h (GnomeModuleConstructor): Removed typedef.
	(GnomeModuleClassInitHook): New typedef.
	(GnomeModuleInfo): Removed `constructor' and added `class_init'
	and `instance_init' functions.
	(gnome_program_module_load): Return a `const GnomeModuleInfo *'.
	(gnome_program_init): Added `GnomeModuleInfo *' argument.
	(gnome_program_initv): Added `GType' and `GnomeModuleInfo *'
	arguments.

	* gnome-program.c (gnome_program_constructor): Removed.
	(gnome_program_initv): Load and initialize all modules based
	on the `GnomeModuleInfo *' argument; for the moment, we don't
	use the GNOME_PARAM_MODULE_INFO and GNOME_PARAM_MODULES
	properties.

	* libgnome-init.h (gnome_gconf_module_info): Removed.
	(gnome_program_get_gconf_client, GNOME_PARAM_GCONF_CLIENT): Removed.
	(gnome_program_get_config_database): New function.
	(GNOME_PARAM_CONFIG_DATABASE, GNOME_PARAM_CONFIG_MONIKER):
	New properties.

	* libgnome-init.c: Don't initialize GConf.
 
2001-04-23  Dietmar Maurer  <dietmar@ximian.com>

	* test-libgnome.c: replace #include <bonobo/libbonobo.h> with
	#include <libbonobo.h>

2001-04-22  Martin Baulig  <baulig@suse.de>

	* test-libgnome.c (test_bonobo): Added little bonobo-conf test.

2001-04-22  Martin Baulig  <baulig@suse.de>

	* libgnome-2.0.pc.in: We don't need libgnomebase anymore.

	* libgnome-init.c (gnome_oaf_pre_args_parse): Call g_thread_init().

2001-04-22  Dietmar Maurer  <dietmar@ximian.com>

	* Makefile.am (INCLUDES): move LIBBONOBO_CFLAGS before
	OAF_CFLAGS, because OAF_CFLAGS include /usr/local/include

2001-04-21  Martin Baulig  <baulig@suse.de>

	* Makefile.am (INCLUDES): Use `LIBGNOME_*DIR' instead of `GNOME*DIR'.

	* gnome-program.[ch]: Put this back.

	* gnome-i18n.h: Put this back.

	* *.[ch]: Don't #include <libgnomebase/gnome-portability.h>.

2001-04-20  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (gnome_oaf_module_info): Put this back.
	(libbonobo_module_info): Depend of gnome_oaf_module_info; moved
	oaf_popt_options to gnome_oaf_module_info.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* libgnome-init.c (gnome_oaf_module_info): kill,
	(libbonobo_module_info): Update.

2001-04-18  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (gnome_oaf_module_info): Put this back.
	(libbonobo_module_info): Put this here since Michael doesn't want to
	have it in Bonobo.

2001-04-17  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (gnome_oaf_module_info): Removed; this is in libbonobo.
	(libgnome_module_requires): Require libbonobo.

	* libgnome-2.0.pc.in: Depend on libbonobo-2.

2001-04-17  Martin Baulig  <baulig@suse.de>

	* gnome-ditem.c (gnome_desktop_item_drop_uri_list): Don't call
	gnome_uri_extract_filename(), just use the URI as-is.

2001-04-15  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (libgnome_loadinit): Don't initialize threads here;
	this has already been done by libgnomebase.

2001-04-15  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (gnome_program_get_gconf_client): Moved this function
	here; it was previously in gnome-program.c, but gnome-program.c is now
	in libgnomebase and thus cannot use gconf anymore.

	* libgnome-init.h: New public header file.
	(GNOME_PARAM_GCONF_CLIENT): Moved this #define here.
	(gnome_program_get_gconf_client): Provide external declaration.
	(gnome_oaf_module_info, gnome_gconf_module_info, gnome_vfs_module_info,
	libgnome_module_info): Moved external declarations here from libgnome.h.

	* libgnome.h: #include <libgnome/libgnome-init.h>.

2001-04-15  Martin Baulig  <baulig@suse.de>

	* libgnome-2.0.pc.in: Depend on libgnomebase-2.

2001-04-15  Martin Baulig  <baulig@suse.de>

	* gnome-program.[ch]: Removed; this is now in libgnomebase/libgnomebase.

	* gnome-defs.h, gnome-i18n.h: Removed; this is now in libgnomebase/libgnomebase.

	* gnome-i18nP.h: Moved all the external declarations from gnome-i18n.h here.

	* gnome-portability.h.in: Removed; this is now in libgnomebase/libgnomebase.

2001-04-14  Martin Baulig  <baulig@suse.de>

	* gnome-program.h (GNOME_PARAM_GCONF_CLIENT): New GnomeProgram property.
	(gnome_program_get_gconf_client): New convenience function to return the
	GnomeProgram's GNOME_PARAM_GCONF_CLIENT property.

	* gnome-program.c (gnome_program_get_property): Fixed a typo to make this
	actually work.

	* libgnome-init.c (gnome_gconf_constructor): New constructor function to
	install the GnomeProgram's GNOME_PARAM_GCONF_CLIENT property.
	(gnome_gconf_get_property, gnome_gconf_post_args_parse): Implement that
	property; when creating a new GnomeProgram instance we set its
	GNOME_PARAM_GCONF_CLIENT property to gnome_conf_client_get_default().

2001-04-13  Martin Baulig  <baulig@suse.de>

	* libgnome-init.c (gnome_oaf_module_info, gnome_gconf_module_info):
	Provide GnomeModuleInfo structs for OAF and GConf.
	(libgnome_module_requirements): Depend on OAF and GConf.

2001-04-13  Martin Baulig  <baulig@suse.de>

	* libgnome-2.0.pc.in: Added @LIBGNOME_EXTRA_DEPS@ to the Requires:.

2001-04-12  Martin Baulig  <baulig@suse.de>

	* gnome-program.h (GnomeModuleHook): The `GnomeModuleInfo' argument
	is deep-copied, so you can actually modify it.

2001-04-12  Martin Baulig  <baulig@suse.de>

	* libgnome.h (libgnome_module_info): Added external declaration.

	* gnomelib-init.c: Renamed to libgnome-init.c.

	* gnomelib-init.h: Removed.

2001-04-11  Martin Baulig  <baulig@suse.de>

	* gnome-util.h (gnome_libdir_file, gnome_datadir_file,
	gnome_sound_file, gnome_pixmap_file, gnome_config_file,
	gnome_help_file, gnome_app_help_file): Removed.
	(gnome_unconditional_*_file): Removed.

2001-04-11  Martin Baulig  <baulig@suse.de>

	* gnome-config.c (access_config_extended): Use
	gnome_program_locate_file() instead of gnome_config_file().

	* gnome-fileconvert.c (gfc_read_FileConverters): Use
	gnome_program_locate_file().

2001-04-11  Martin Baulig  <baulig@suse.de>

	* gnome-program.c (gnome_program_locate_file): Return NULL if
	`ret_locations' is given.

	* gnome-program.c (gnome_program_initv): Call libgnome_type_init ()
	instead of g_type_init (), moved g_type_init () call into
	libgnome_type_init ().

	* libgnomeP.h (libgnome_type_init): Added function prototype.

	* Makefile.am: Create libgnome.defs and the type stuff using
	gnome-maketypes.awk and gnome-makeenums.pl.

	* libgnome-boxed.defs: New file.

	* libgnometypes.c: New file.

2001-04-11  Martin Baulig  <baulig@suse.de>

	* libgnome.h: Use #include <libgnome/*.h> instead of "libgnome/*.h"
	and #include <libgnome/gnome-ditem.h>.

2001-04-11  Martin Baulig  <baulig@suse.de>

	* gnome-util.h (PATH_SEP, PATH_SEP_STR): Moved to libgnomeP.h.
	(g_is_image_filename): Removed function prototype.

	* gnome-util.h (g_file_exists): Removed; use g_file_test() instead.

2001-03-24  Martin Baulig  <baulig@suse.de>

	* libgnome-2.0.pc.in: Depend on gconf-2.0.

2001-02-26  jacob berkman  <jacob@ximian.com>

	* gnome-url.c: default to using nautilus for help browsing if it
	is available

2000-07-26  John Sullivan  <sullivan@eazel.com>

	* gnome-sound.c (use_sound): Moved this function out of a
	#ifndef HAVE_LIBAUDIOFILE and into #ifdef HAVE_ESD.
	This fixes the build breakage caused earlier today by Miguel's change.

2000-07-11  Miguel de Icaza  <miguel@gnu.org>

	* gnome-sound.c (gnome_sound_init): Store the esound hostname
	here.
	(gnome_sound_play): Use the use_sound routine here.
	(gnome_sound_sample_load): ditto.
	(use_sound): Delayed initialization of sound.

2000-05-27  Miguel de Icaza  <miguel@helixcode.com>

	* gnome-exec.c (gnome_execute_async_with_env_fds): Invoke setsid()
	before execing the child process, as some applications terminate
	by doing kill (0, SIGTERM) (mgp), so when we launch them from the
	file manager they get the SIGTERM Message as well

2000-04-03  Miguel de Icaza  <miguel@gnu.org>

	* gnome-fileconvert.c (gfc_read_FileConverters): Do not depend on
	initialization sequence to run.

	* parse-path.cP (parse_path): Do not depend on the initialization sequence

2001-03-21  Martin Baulig  <baulig@suse.de>

	* Makefile.am: We're now in the new libgnome-2 module.
	(bin_PROGRAMS): Don't build gnome-moz-remote for the moment since
	it depends on X.

2001-03-21  Martin Baulig  <baulig@suse.de>

	* gnome-program.h (GNOME_PARAM_POPT_FLAGS, GNOME_PARAM_POPT_CONTEXT):
	New properties.

	* gnome-program.[ch]
	(gnome_program_module_register, gnome_program_module_registered,
	gnome_program_module_load): Removed the `GnomeProgram *' argument.
	(gnome_program_install_property): First argument is now
	`GnomeProgramClass *'.
	(GnomeModuleInfo): The `init_pass' function no longer has a
	`GnomeProgram *' argument, added `constructor' function.

2001-03-20  Martin Baulig  <baulig@suse.de>

	* gnome-program.[ch] (gnome_program_install_property): New
	function; allows you to add a property to the GnomeProgramClass.

	* gnome-program.h (GnomeFileDomain): New enum.
	(GNOME_PARAM_GNOME_PATH): New property.
	(gnome_program_locate_file): New function; this is a slightly
	modified version of gnome_file_locate().

2001-03-20  Martin Baulig  <baulig@suse.de>

	* gnome-util.h (gnome_*_file): Use gnome_program_locate_file().
	(gnome_file_domain_*): Removed.
	(g_file_exists): #define this to use g_file_test().

	* gnome-util.c (gnome_file_locate): Removed.
	(g_file_exists): Removed.

2001-03-20  Martin Baulig  <baulig@suse.de>

	* gnomelib-init.[ch] (gnome_program_get_human_readable_name):
	Moved to gnome-program.[ch].

	* gnomelib-init.h (LIBGNOME_PARAM_*, libgnome_param_*):
	Removed #defines and external declarations. There are corresponding
	`GNOME_PARAM_*' #defines in gnome-program.h which are the names
	of GnomeProgram's properties.

	* test-libgnome.c: Simple test program.

	* gnomelib-init2.[ch]: Removed, this is now gnome-program.[ch].

	* gnome-program.[ch]: New files. This implements a `GnomeProgram'
	GObject; most of the code is copied from gnomelib-init2.c, but
	removed all the GnomeAttribute stuff and use GParam's.

2001-02-28  Mikael Hallendal  <micke@codefactory.se>

	* libgnome/: Fixed includes (added glib.h and gnome-defs.h
	to the files needing it. Those are: gnome-config.h, gnome-ditem.h,
	gnome-exec.h, gnome-fileconvert.h, gnome-i18n.h, gnome-regex.h,
	gnome-remote.h, gnome-score.h, gnome-sound.h, gnome-triggers.h,
	gnome-url.h, gnome-util.h, gnome-init.h).
	
2001-02-23  Martin Baulig  <baulig@suse.de>

	* libgnome-2.0.pc.in: New file.
	* Makefile.am: Install pkg-config file.

2001-02-15  Darin Adler  <darin@eazel.com>

	* gnomelib-init2.c: (gnome_program_preinita):
	Mark "Help options" with a N_ so it can be translated.

2000-12-26  Miguel de Icaza  <miguel@helixcode.com>

	* gnome-moz-remote.c (main): Give preference to mozilla when
	autodetecting.

2000-12-09  Martin Baulig  <baulig@suse.de>

	* gnome-dump.c, gnome-gen-mimedb.c, gnome-magic.c, gnome-magic.h,
	gnome-metadata.c, gnome-metadata.h, gnome-mime-info.c,
	gnome-mime-info.h, gnome-mime.c, gnome-mime.h: Removed.

2000-12-09  Martin Baulig  <baulig@suse.de>

	* gnomelibs-init.c (libgnome_loadinit): New static function; add
	this as `loadinit' function to libgnome's GnomeModuleInfo and
	call g_thread_init() here.

2000-12-09  Martin Baulig  <baulig@suse.de>

	* gnome-i18n.c: Comment out g_i18n_get_language_list() and
	g_i18n_guess_category_value() until someone with a clue has
	had a look at it.

2000-11-22  Martin Baulig  <martin@home-of-linux.org>

	* gnome-util.h (g_file_test): Removed.

	* Makefile.am: Use $(GNOMESUPPORT_INCS) and $(GNOMESUPPORT_LIBS).

2000-09-28  Martin Baulig  <baulig@suse.de>

	* gnome-history.[ch]: Moved to libcompat.

Thu Sep 28 03:34:52 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c, gnome-moz-remote2.c, gnome-util.c, gnomelib-init2.c:
	  use g_getenv instead of getenv

Sun Sep 24 15:32:20 2000  George Lebl <jirka@5z.com>

	* gnome-exec.[ch]:  Improve some docs, and add function to
	  deal with terminals according to user prefs.  Also some stylistic
	  changes.

	* gnome-ditem.c:  Use the gnome-exec function for getting the
	  terminal command line

	* gnome-portability.h.in:  remove the alloca thing as g_alloca is
	  apparently now in glib.  The file is now empty and perhaps
	  should be removed, unless there's further need for it.

Sat Sep 23 17:28:25 2000  George Lebl <jirka@5z.com>

	* gnome-i18n.[ch]:  Add gnome_i18n_push_c_numeric_locale and
	  gnome_i18n_pop_c_numeric_locale functions that do the job of
	  pushing and poping "C" locale to make float<->string conversions
	  work right in other locales.

	* gnome-scores.c, gnome-config.c: use the above

	* gnome-ditem.c: include gnome-url.h to avoid warning

Fri Sep 15 18:47:06 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.[ch]: Launch Type=URL entries, and slight
	  cosmetic updates

Thu Sep 14 18:45:00 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: use g_path_get_dirname instead of g_dirname

2000-09-09  Martin Baulig  <baulig@suse.de>

	* gnome-util.c (g_copy_vector): Allow the argument to be NULL.

Fri Sep 01 19:13:15 2000  George Lebl <jirka@5z.com>

	* gnome-url.[ch]: Use GError instead of homebrewed error return

2000-08-31  Martin Baulig  <baulig@suse.de>

	* gnome-i18n.c (gnome_i18n_get_language_list): Mark this as
	deprecated and call g_i18n_get_language_list().  Moved most
	stuff from this file into glib; you need the glib-2.0.patch
	in the patches/ directory in order to use it.

	* gnomelib-init.c: Initialize the gnome-vfs module.

Wed Aug 30 22:22:47 2000  George Lebl <jirka@5z.com>

	* Makefile.am: cosmetic cleanups done in search of errors

Thu Aug 24 03:11:54 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: use g_path_get_basename instead of g_basename

Thu Aug 24 02:17:20 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: remove g_hash_table_freeze calls as freeze/thaw
	  on hash tables is deprecated

Thu Aug 24 01:45:11 2000  George Lebl <jirka@5z.com>

	* gnome-mime.c: remove include of gtk/gtk.h

	* libgnome.h: remove gnome-dentry.h as it's in libcompat now

	* gnome-init2.c, gnome-ditem.c: whoops, it's g_path_get_basename not
	  g_path_basename

2000-08-07  Martin Baulig  <baulig@suse.de>

	Moved all deprecated files (i.e the ones that were linked into
	libgnome-1-compat and not into libgnome) into their own
	subdirectory (../libcompat).

	* gnome-dentry.c, gnome-dentry.h, gnome-help.c, gnome-help.h,
	gnome-popt.c, gnome-popt.h, gnome10-compat.c, gnome10-compat.h,
	libgnome-compat-1.0.h: Moved to ../libcompat/.

	* gnome-ditem.c: #include <popt.h> directly and not the deprecated
	"gnome-popt.h"
	* gnome-url.c: Likewise.

2000-07-31  Karl Eichwalder  <ke@suse.de>

	* gnome-moz-remote2.c: Add missing dots.

2000-07-16  Jaka Mocnik  <jaka@barbara>

	* gnome-help.h (gnome_help_goto, gnome_help_pbox_goto): actually
	add the const stuff.

Fri Jul 14 01:41:05 2000  George Lebl <jirka@5z.com>

	* gnome-dentry.[ch]: s/int/gboolean/

	* gnome-help.[ch]: add const stuff

	* gnome-history.[ch]: add const stuff and GnomeHistoryEnt is a
	  typedef to the structure and NOT the pointer as this is
	  inconsistent with the rest of gnome and plain ugly

	* gnome-mime-info.[ch]: const stuff

	* gnome-regex.h: use a standard looking typedef for the structure

	* gnome-score.[ch]: const stuff

	* gnome-url.[ch]: GnomeURLDisplayContext again a typedef to
	  the structure NOT the pointer so that we are consistent again

	* gnomelib-init.[ch], gnomelib-init2.[ch]: const stuff

Wed Jul 12 02:25:14 2000  George Lebl <jirka@5z.com>

	* gnome-config.c, gnome-ditem.c, gnome-i18n.[ch], gnome-mime-info.c,
	  gnome-paper.[ch]:  Where an internal string or list is returned,
	  make the return constant.  gnome_i18n_get_preferred_language is
	  not constant, so remove the "const"

	* gnome-mime-info.c: before reversing the language list, make a copy

	* gnop-util.c: use g_strdup and not strdup

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* gnome-score.c (print_ascore) : setlocale returns a static buffer.
	  Copy it to safety.  Set the locale AFTER storing the current
	  setting.
	(log_score) : Ditto.
	(gnome_score_get_notable) : Ditto.

	* gnome-config.c (_gnome_config_get_float_with_default): Ditto.
	(_gnome_config_set_float) : Ditto.

Mon Jun 12 18:40:33 2000  George Lebl <jirka@5z.com>

	* gnome-util.c: update the comments.  Just to make gtk-doc work on
	  g_file_test, and take out the "will be removed thing on
	  g_file_exists as it won't

Fri May 26 12:24:02 2000  George Lebl <jirka@5z.com>

	* gnome-score.c: Applied patch from Dennis Bjorklund
	  <dennisb@cs.chalmers.se> to fix another unprotected atof with
	  setting locale to "C" and then back.

2000-05-18  Miguel de Icaza  <miguel@gnu.org>

	* gnome-config.c (gnome_config_iterator_next): Implement as
	documented.  
	
Sat May 06 16:46:13 2000  George Lebl <jirka@5z.com>

	* gnome-config.c (_gnome_config_get_float_with_default)
	  (_gnome_config_set_float): setlocae for LC_NUMERIC to "C" and
	  then back to original locale when reading and writing floats
	  so that we can read/write floats over different locales

	* gnome-score.c (gnome_get_score_file_name) (log_score): 
	  The same as above.  Fixes bugs #10404, #10257

Fri May 05 20:53:11 2000  George Lebl <jirka@5z.com>

	* gnome-url.c: gnome_url_show had it's return value inversed, duh!

Fri May 05 19:22:30 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: include gnome-i18nP.h rather then gnome-i18n.h

	* gnome-url.[ch]: add an error argument to gnome_url_show_full
	  Fix one memory leak and one GList corruption bug.  Made it use
	  gnome_exec_async rather then shell.  It will now correctly handle
	  URIs with weird characters and no longer uses printf format strings
	  taken from files.  When the handler is gnome-moz-remote, it
	  first checks if the program ('netscape' or whatever gnome-moz-remote
	  uses) actually exists.

	* gnomelib-init2.c: fix a warning

Sun Mar 26 13:31:28 2000  George Lebl <jirka@5z.com>

	* gnome-config.[ch],parse-path.cP: return TRUE/FALSE from the sync
	  functions indicating an error in writing to a file, and do
	  s/gint/gboolean/ a bit

	* gnome-ditem.[ch]: return TRUE/FALSE from the _save function to
	  indicate an error in saving

Mon Mar 20 21:10:53 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: if no "C" locale setting found for name, set it
	  to the filename or "Unknown" when saving.  This prevents problem
	  with created files.  Also eliminate a possible buffer overrun.

Mon Mar 20 20:36:35 2000  George Lebl <jirka@5z.com>

	* gnome-config.c: Apply patch from miguel made to gnome-libs-1-0,
	  fix segfault when loading illegal files by correctly setting state
	  after ignore.  also correctly set state after premature end of line
	
	* gnome-dentry.c: when saving names and comments, save them to the
	  default (no language) first just in case there was no setting,
	  fixes first part of #7300

2000-02-24  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-util.c (g_concat_dir_and_file): dir or file being NULL is
	an error.

2000-02-18 Elliot Lee <sopwith@redhat.com>
	* gnome-dentry.c: Try just looking for KDE icons in various common places instead of using
	KDE_ICONDIR define.

Sun Jan 30 12:49:59 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: fix two double free errors by applying a patch from
	  Peter Wainwright <prw@wainpr.demon.co.uk> and fix a small leak
	  in _unref

Thu Jan 20 00:07:37 2000  George Lebl <jirka@5z.com>

	* gnome-mime.[ch]: add a function gnome_uri_extract_filename,
	  which will take a single uri and return a newly allocated
	  string with a local filename or NULL if it's not file: and
	  local.  Use this in extract_filenames so that we actually
	  get real files for things that specify hostname too

	* gnome-ditem.c: use gnome_uri_extract_filename to test for
	  something being a local file and use it to extract the filename
	  itself.  If we actually append ".directory" and read the file,
	  stat it again to get the correct mtime.  Store full path in
	  location.  Make sure the type is "Directory" if and only if
	  the loaded file is a ".directory".  Recognize "<dir>/.directory"
	  as a directory file as well.  Add _() around the g_warning
	  messages.  Fix .order file reading by opening the right file.

Tue Jan 18 00:30:56 2000  George Lebl <jirka@5z.com>

	* gnome-util.c: (g_file_test) make the tests work sanely again.
	  This had been changed to test an and of the conditions which
	  doesn't make sense as something can never be a dir, a regular
	  file and a link at the same time.  So it now agains properly
	  tests an OR of the conditions, which also fixes
	  gnome-pixmap-entry and anything else that used the function.

Mon Jan 17 14:21:09 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.c: test for gnome-terminal's existence and fall back
	  to xterm otherwise

Sun Jan 16 02:43:14 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.[ch]: Add a basic "Type" attribute to the structure and
	  gnome_desktop_item_get_type/set_type accessors
	  Get and store other sections found in the file.
	  Fix recognition of files by looking at all lines for the initial
	  section header.
	  Add a GNOME_DESKTOP_ITEM_LOAD_NO_OTHER_SECTIONS flag that will
	  inhibit reading of other sections from files to speed up loading.
	  Use gnome_config_sync_file and not gnome_config_sync
	  Remove the tree reading/writing support, it's not justifiable
	  for this to be in ditem, we need a separate simpler loader for
	  trees.
	  Add get_order/set_order functions for getting and setting the
	  order of items for a directory ditem.
	  Still read and store keys that have an empty value.
	  Store the entire location in location, not just the basename.
	  The _get_languages function gets a union of all languages from
	  name and comment.
	  The _save function sets the location to the new location.
	  The _get_file_status no longer takes 'under' as we store the entire
	  Actually start a terminal if we need to.
	  Check the type (if set) before a launch (assume
	  "KonsoleApplication" for kde things is an application for the
	  terminal)
	  Make world peace possible.
	  Fix getting the terminal flag
	  Allow clearing of names, comments and attributes by passing
	  nulls as the new value.
	  Allow mass clearing of names and comments.
	  For _set_name and _set_comment default language to "C" if NULL.

Sat Jan 15 00:53:48 2000  George Lebl <jirka@5z.com>

	* gnome-dentry.c, gnome-exec.c, gnome-moz-remote2.c, gnome-util.c:
	  fix minor compiler warnings and a sizeof doesn't necessairly
	  return int error.

Thu Jan 14 23:56:08 2000  George Lebl <jirka@5z.com>

	* gnome-mime.c: make a local function static and fix a sizeof
	is integer assumption when printing with g_message.

	* gnome-url.c: fixed two sizeof(pointer) == sizeof(int) assumtions

2000-01-13  Havoc Pennington  <hp@redhat.com>

	* gnomelib-init2.c (gnome_program_module_register): Dump
	bad-module-version message to stderr instead of stdout, and 
	then exit(1) (we can't really continue, it will segfault
	most of the time no doubt)
	(gnome_program_version_check): reverse the version args 
	to rpmvercmp

Thu Jan 13 14:49:03 2000  George Lebl <jirka@5z.com>

	* gnome-i18n.c: fixup the inline doc to be more clear that the
	  list returned from gnome_i18n_get_language_list should not be
	  freed at all.

2000-01-11  Havoc Pennington  <hp@pobox.com>

	* gnomelib-init.c: move human readable name stuff into 
	libgnome init files.

2000-01-11  Havoc Pennington  <hp@redhat.com>

	* gnomelib-init2.c: Add GNOME_PARAM_HUMAN_READABLE_NAME
	(gnome_program_get_human_readable_name): convenience function 
	to get it

Sat Jan 08 19:06:47 2000  George Lebl <jirka@5z.com>

	* gnome-ditem.[ch]:  Switch exec from a vector to a simple string.
	  change the _get_command and _set_command to return/take a simple
	  string.  Also changed reading of .order file to not use a fixed
	  buffer for reading.

Sat Jan 01 18:45:26 2000  George Lebl <jirka@5z.com>

	* gnome-config.c,gnome-help.c,gnome-mime-info.c: Use LC_MESSAGES
	  instead of LC_ALL to get the language to use for translating
	  messages.  LC_ALL is used as well inside gnome-i18n anyway
	  and messages need to use LC_MESSAGES if it's set

	* gnome-help.c: s/g_fee/g_free/ in the inline docs for two functions

1999-12-23  Havoc Pennington  <hp@redhat.com>

	* gnomelib-init.c (libgnome_userdir_setup): Clean up this
	code. Include strerror() in error messages, don't dump core (just
	fprintf() then exit(1)), indent reasonably, don't use -1 as a
	truth value.

1999-12-21  Havoc Pennington  <hp@redhat.com>

	* gnome-ditem.c: new functions to get the best comment/name to
	display to the current user (by locale list).

Wed Dec 15 14:15:37 1999  George Lebl <jirka@5z.com>

	* gnome-i18n.c: make sure we don't get into an infinite loop by
	  descending only 30 levels before giving a warning.  This would
	  only be the case for broken locale.alias, but we wanna handle it.
	  I could have sworn that I did this before, guess not.

Tue Dec 14 00:04:18 1999  George Lebl <jirka@5z.com>

	* gnome-mime-info.c: current_lang is a list of languages.  Also
	  we store the previous key and it's language level when reading.
	  (remove_this_key) removed this function as it is replaced by
	  using g_hash_table_lookup_extended where we don't need to
	  remove/readd, but just readd with the old key
	  (context_add_key) take an extra 'lang' argument which is the
	  language of the current key/value or NULL.  If the current 'lang'
	  is higher then the previous key's lang level we replace the
	  previous key with this key, otherwise we just add the key/value
	  (load_mime_type_info_from) keep track of lang just like we do
	  of 'key'
	  (gnome_mime_flag) take the 'key' as an argument and do the right
	  thing
	  (gnome_mime_copiousoutput,gnome_mime_needsterminal) call the
	  gnome_mime_flag with the 'key'

	* gnome-mime-info.h: gnome_mime_nametemplate removed from the
	  header as it was not actually implemented anywhere.  Also this
	  file was slightly weirdly formatted and was not all that readable
	  at 80 cols, so I removed some spurious tabs to make it so

1999-12-13  Havoc Pennington  <hp@redhat.com>

	* gnome-ditem.h, gnome-ditem.c: Add copyright, add Emacs magic, re-indent.

1999-12-07  Martin Baulig  <martin@home-of-linux.org>

	* gnome-mime-info.c (gnome_mime_init): Use `gnome_util_home_file'
	instead of `gnome_util_user_home'

Sun Dec 05 01:32:35 1999  George Lebl <jirka@5z.com>

	* gnome-dentry.c: fix the quoting, now we don't quote the exec vector
	  from the dentry as this is the expected behaviour, but we do quote
	  the arguments passed to gnome_desktop_entry_launch_with_args so
	  that we work with filenames with spaces.  This will completely
	  fix #4010.

Fri Dec 03 21:23:56 1999  George Lebl <jirka@5z.com>

	* gnome-dentry.c: fix a segfault in join_with_quotes, fixes #4010

1999-11-24  James Henstridge  <james@daa.com.au>

	* gnome-paper.h: added prototypes for new functions.

	* gnome-paper.c (gnome_unit_with_abbrev): new function to find a
	GnomeUnit by its abbreviation.
	(gnome_unit_convert): convert from one set of units to another.
	(gnome_unit_name): accessor for the name of a GnomeUnit.
	(gnome_unit_abbrev): accessor for abbreviation of GnomeUnit.

1999-11-17  Iain Holmes  <ih@csd.abdn.ac.uk>

	* gnomelib-init.h: Removed gnomelib_init.

	* gnome10-compat.[ch]: Added gnomelib_init as a function to pass fake
	arguments to gnome_program_init.

1999-11-16  Elliot Lee  <sopwith@redhat.com>

	* gnome-url.[ch]: Add a callback for history maintainance.

1999-11-15  Elliot Lee  <sopwith@redhat.com>

	* gnomelib-init2.[ch]: Add gnome_program_module_load() (Dynamic module loading from --load-modules, $GNOME_MODULES).

1999-11-11  Jacob Berkman  <jberkman@andrew.cmu.edu>

	        * gnome-config.c (gnome_config_make_vector): correctly
	        handle the "a \b c" case (escaped character between 2
	        spaces)
	        (gnome_config_make_vector): george also suggested this
	        fix

	        Fixes bug #3475	

1999-11-09  Elliot Lee  <sopwith@redhat.com>

	* Makefile.am: Link libgnome to $(LIBGNOME_LIBS), not $(GLIB_LIBS).

	* gnome-i18n.c: Add a comment about implementation behaviour.
	* gnome-moz-remote2.c: Finish implementation of new gnome-moz-remote
	* gnome-url.[ch]: Support new API with GnomeURLDisplayContext's, change gnome_url_show to just use this.
	* gnome-util.[ch]: Add a "help" file domain, for looking up help files.
	* gnome10-compat.[ch]: No change, stupid CVS.
	* libgnome{,10compat}.h: Move gnome-help into 1.0 compat library.
	* gnomelib-init2.c: Don't free the popt context unless that is specifically requested - programs need a sane way
	to get to the args.

1999-11-05  Havoc Pennington  <hp@pobox.com>

	* gnome-util.h: Include gnome-defs.h

1999-10-30  Dick Porter <dick@acm.org>

	* Allow gnome-moz-remote to launch a netscape as a last resort, if
		--remote cant find a running one.

1999-10-27  Elliot Lee  <sopwith@redhat.com>

	* gnomelib-init.h: Add attributes for application prefix/libdir/datadir/sysconfdir.
	* gnome-util.c: Make use of these attributes in gnome_file_locate().

	* gnome-ditem.[ch]: Add save routine, location accessors. Remove run-in-bg flag. Add check-for-changes routine.

1999-10-26  Elliot Lee  <sopwith@redhat.com>

	* gnome-ditem.[ch]: New files - replacement for gnome-dentry.[ch]
	* gnome-util.[ch] (gnome_file_locate) Redo the file location stuff
	                  (g_file_test): Use access() if only testing for existence. Also fix the other tests to
			                 work slightly more sanely (check that all specified conditions are met,
					 rather than that all unspecified conditions are not met).
	                  (gnome_user_shell): Use g_strdup instead of strdup
	* gnomelib-init2.c (gnome_program_attribute_get): Fix inverted error condition.
	* gnomelib-init.h: Add an attribute for an application-provided file locator function.
	* gnome-config.c: Recognize [yYtT1-9].* as TRUE boolean values, all others as FALSE boolean values.

1999-10-21  Federico Mena Quintero  <federico@redhat.com>

	* gnome-mime.c (add_ext): New helper function to add an
	extension->mime_type mapping.  It checks for the presence of old
	mappings of the same extension.  This fixes a memory leak in
	add_to_key() when there are multiple mappings of an extension to
	mime types in the .mime files.
	(add_to_key): Use add_ext().

1999-10-18  Jonathan Blandford  <jrb@redhat.com>

	* Makefile.am (libgnome10compat_a_SOURCES): new compatibility lib.

	* gnomelib-init2.c (gnome_program_parse_args): fixed so it compiles
	(gnome_program_get): fixed so it compiles
	(gnome_program_module_register): fixed so it compiles.

1999-10-07  Elliot Lee  <sopwith@redhat.com>
	* gnomelib-init2.[ch]: New implementation.
	* gnomelib-init.[ch]: Use new init system.
	* Makefile.am: Add gnome-portability.h, gnomelib-init{,2}.h to headers, remove gnome-popt.h from headers.
	Add gnomelib-init2.c to sources, remove gnome-popt.c from sources.
	* gconfigger.c, gnome-gen-mimedb.c, gnome-moz-remote.c: Use new init setup.
	* gnome-i18n.h, gnome-i18nP.h: Instead of duplicating everything in two header files, add hooks so we can
	avoid doing that.
	* gnome-mime-info.c, gnome-util.c, gnome-util.h: Avoid using deprecated functions.
	* gnome-mime.c: Case-insensitive file extension hashing.
	* gnome-portability.h.in: New file (gives us a working g_alloca on any system).
	* libgnome.h: Add new header files
	* libgnomeP.h: avoid duplication with libgnome.h


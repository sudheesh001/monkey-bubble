2001-07-11  Martin Baulig  <baulig@suse.de>

	* bonobo-storage-fs.c, bonobo-moniker-extender-file: Use
	gnome_vfs_mime_type_from_name(), not gnome_mime_type_from_file().

	* bonobo-config-ditem-utils.c: Removed ORBit2 conditionals,
	always use ORBit2.

2001-07-10  Michael Meeks  <michael@ximian.com>

	* bonobo-moniker-vfs.c: add.

	* bonobo-stream-vfs.c: port to GObject / BonoboObject.

	* bonobo-storage-vfs.c: ditto.

	* GNOME_Moniker_std.oaf.in.in: register the vfs moniker.

2001-07-10  Michael Meeks  <michael@ximian.com>

	* bonobo-storage-fs.c (fs_open_storage),
	(fs_open_stream): CORBA_Object_duplicate the return
	values.

2001-07-10  Michael Meeks  <michael@ximian.com>

	* bonobo-moniker-file.c (bonobo_moniker_file_resolve):
	upd. to use it.

	* bonobo-storage-fs.c: port to BonoboObject / GObject.

2001-07-10  Michael Meeks  <michael@ximian.com>

	* bonobo-moniker-file.c (bonobo_moniker_file_resolve):
	use bonobo-stream-fs directly, not via the storage plugin
	architecture.

	* bonobo-stream-fs.c (bonobo_mode_to_fs): port to
	BonoboObject / GObject.

2001-07-09  Michael Meeks  <michael@ximian.com>

	* gnome-moniker-std.[ch]: add.

	* bonobo-moniker-extender-file.c: add.

	* bonobo-moniker-file.c: add.

	* Makefile.am (INCLUDES): re-vamp, add file monikers.

2001-07-07  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem-utils.c: Finish ORBit2 port.

2001-07-02  Carlos Perelló Marín <carlos@gnome-db.org>

	* bonobo-moniker-ditem.c, test-ditem.c: Now it compile with the 
	latest bonobo-conf

2001-06-28  Michael Meeks  <michael@ximian.com>

	* bonobo-config-ditem-utils.c (DECODE_BASIC): fix type usage in
	macro.
	(bonobo_config_ditem_decode_any): port to ORBit2's DynamicAny.

	* bonobo-config-ditem.c (dump_key): fix leak, dump escaped value.
	(dump_subkeys): fix leak.

Thu Jun 28 00:26:18 2001  George Lebl <jirka@5z.com>

	* bonobo-config-ditem.[ch]: Specialized this beast for reading v0.9.2
	  compliant .desktop files.  Stores all localestrings in utf8, all
	  other strings in straight ascii, and does automatic conversion to
	  utf8 according to the "Encoding=" bit or location.  Also fix some
	  leaks.  Will need to do more strict parsing to be truly compliant,
	  it will currently read non-compliant files sometimes and pretend
	  they are ok.

2001-06-16  Maciej Stachowiak  <mjs@eazel.com>

	* Makefile.am: Include $(MONIKER_LIBS) in link line for test-ditem
	so we link against bonobo-config, not bonobo-conf.

2001-06-16  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem-utils.c (bonobo_config_ditem_get_subtype):
	New function.

	* bonobo-config-ditem.c (real_get_type): New static function; this
	uses bonobo_config_ditem_get_subtype() if we're accessing structure
	fields.
	(dir_lookup_entry, dir_lookup_subdir): Implemented `create'.

2001-06-10  Cody Russell  <bratsche@gnome.org>

	* desktop-item-boot.c, test-ditem.c: Add #include <stdlib.h> for exit().

2001-06-10  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem.c, bonobo-config-ditem-utils.c: We now
	preserve the order of all entries when saving the file back.
	Actually, the first save of a files saves it in some kind of
	a "canonical" format and sort order which will be preserved by
	all subsequent saves.

	* bonobo-config-ditem.h (Directory, Section): New types.

	* bonobo-config-ditem.c (TSecHeader): Removed.

2001-06-10  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem.c (real_set_value): Implemented.

	* bonobo-config-ditem-utils.c (bonobo_config_ditem_encode_any):
	New function.

2001-06-10  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem-utils.c (bonobo_config_ditem_decode_any):
	Added all basic types.

2001-06-10  Martin Baulig  <baulig@suse.de>

	* Makefile.am (install-local): Automatically run ./desktop-item-boot.

2001-06-10  Martin Baulig  <baulig@suse.de>

	* gnome-desktop.xmldb: Moved here from ../libgnome.

	* desktop-item-boot.c: New file. This is a small utility which you
	need to run each time after doing a `make install'.

	* bonobo-config-ditem-utils.c (bonobo_config_ditem_decode_any):
	Added `BonoboConfigDatabase *ditem' and `const gchar *path' arguments.
	Implemented TC_GNOME_ExtraAttributes.

2001-06-09  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem-utils.c (bonobo_config_ditem_decode_any):
	Implemented CORBA_tk_boolean and CORBA_tk_enum.

	* bonobo-config-ditem.c (real_sync): Implemented. We can now
	write a file back to disk if it's modified.

2001-06-08  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem-utils.c (bonobo_config_ditem_decode_any):
	Implemented CORBA_tk_struct.

2001-06-05  Martin Baulig  <baulig@suse.de>

	This is a "ditem" moniker for bonobo-config which can read
	and write .desktop files from GNOME 1.4 and KDE.

